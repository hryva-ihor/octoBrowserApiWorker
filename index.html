<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Octobrowser API Request</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div class="container">
        <h1>Octobrowser API Request</h1>
        <form id="form">
            <label for="api-key-input">API ключ:</label>
            <input type="text" id="api-key" name="api-key-input" /><br /><br />
            <label for="data-input">Імена профілів:</label>
            <input type="text" id="data" name="data[]" placeholder="Enter profile's names" />
            <label for="request-count-input">Кількість запитів:</label>
            <input value="50" type="text" placeholder="all profiles count / 100" pattern="\d{1,2}" maxlength="2"
                id="request-count" name="request-count-input" /><br /><br />
            <button type="submit" id="submit-button">Submit</button>
        </form>
        <button id="copy-button">Copy result</button>
        <div id="result-container"></div>
    </div>
    <div id="modal" class="modal">
        <div class="modal-content">
            <p class="close">&times;</p>
            <p id="modal-message"></p>
        </div>
    </div>

    <div class="tabs">
        <form id="myForm">
            <label for="profileName">Змінити тег профілів</label><br />
            <textarea placeholder="UUIDs" id="profileName" name="profileName"></textarea><br />
            <label style="margin-top: 20px;" for="newTag">Новий тег:</label><br />
            <select id="newTag" name="newTag" class="dropdown">
                <option value="">-- Виберіть тег --</option>
                <option value="бан">бан</option>
                <option value="готовые">готовые</option>
            </select>

            <br /><br />
            <button type="submit" value="Submit">Change tags</button>
        </form>

        <form id="delform">
            <label for="uuids">Видалити профілі за UUID:</label><br />
            <textarea placeholder="UUIDs" id="uuids" name="uuids"></textarea><br />
            <button style="margin-top: auto;" type="submit">Delete Profiles</button>
        </form>

    </div>
    <div class="tabs">
        <div><button id="clear-console">Clear console</button>
            <div id="console-output"></div>
        </div>
    </div>
    
    <script src="changetag.js"></script>
    <script src="delete.js"></script>
    <script src="getuuid.js"></script>
</body>

</html>





<!-- 322cb968e76b4d0b89519637ddbe8ad1 -->
<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>

<body>
    <h1>hello</h1>
</body>
<script>
    var ObjFullData = []

    var removeArr = ['NN-2418',
        'NN-2689',
        'NN-2720'];
    const myArray = [];
    const tagData = [
        "dddfceebecfc4dcd97840a98dde91e0f",
        "9ba3a71e452942c8a5ca2e38307006a9",
        "86ae897ed6414fe4b09221e36b997f79"
    ]

    // 322cb968e76b4d0b89519637ddbe8ad1

    // Get data function
    var apiKEY = 'testapi'
    var requestCount = 50
    for (let i = 0; i <= requestCount; i++) {
        var DATA = []
        var newarr = []
        var myHeaders = new Headers();
        myHeaders.append("X-Octo-Api-Token", apiKEY);

        var requestOptions = {
            method: 'GET',
            headers: myHeaders,
            redirect: 'follow'
        };
        fetch(`https://app.octobrowser.net/api/v2/automation/profiles?page_len=100&page=${i}&ordering=created&fields=title`, requestOptions)
            .then(response => response.text())
            .then(result => {
                for (let index = 0; index < JSON.parse(result).data.length; index++) {
                    DATA.push(JSON.parse(result).data[index]);

                }
            })

            .then(() => console.log(DATA))
            .catch(error => console.log('error', error));

    }
    // console.log(fullDATA);


    // console.log(removeArr.length)





    // filter 
    // var filteredUuids = ObjFullData.filter(obj => {
    //     return removeArr.includes(obj.title);
    // }).map(obj => {
    //     return obj.uuid;
    // });
    // console.log(filteredUuids);
    const myUUIDs = '86ae897ed6414fe4b09221e36b997f79'
    var myHeaders = new Headers();
    myHeaders.append("Content-Type", "application/json");
    myHeaders.append("X-Octo-Api-Token", "322cb968e76b4d0b89519637ddbe8ad1");

    var raw = JSON.stringify({
        "tags": [
            "igor"
        ]

    });

    var requestOptions = {
        method: 'PATCH',
        headers: myHeaders,
        body: raw,
        redirect: 'follow'
    };

    fetch("https://app.octobrowser.net/api/v2/automation/profiles/myUUID", requestOptions)
        .then(response => response.text())
        .then(result => console.log(result))
        .catch(error => console.log('error', error));

</script>

</html> -->